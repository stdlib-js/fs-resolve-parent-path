// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var r,n=Object.defineProperty,e=Object.prototype,o=e.toString,i=e.__defineGetter__,u=e.__defineSetter__,c=e.__lookupGetter__,f=e.__lookupSetter__;r=function(){try{return t({},"x",{}),!0}catch(t){return!1}}()?n:function(t,r,n){var l,a,s,p;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof n||null===n||"[object Array]"===o.call(n))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+n+"`.");if((a="value"in n)&&(c.call(t,r)||f.call(t,r)?(l=t.__proto__,t.__proto__=e,delete t[r],t[r]=n.value,t.__proto__=l):t[r]=n.value),s="get"in n,p="set"in n,a&&(s||p))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&i&&i.call(t,r,n.get),p&&u&&u.call(t,r,n.set),t};var l=r;function a(t,r,n){l(t,r,{configurable:!1,enumerable:!1,writable:!1,value:n})}function s(t,r){for(var n=0,e=t.length-1;e>=0;e--){var o=t[e];"."===o?t.splice(e,1):".."===o?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(r)for(;n--;n)t.unshift("..");return t}function p(){for(var t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var e=n>=0?arguments[n]:"/";if("string"!=typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(t=e+"/"+t,r="/"===e.charAt(0))}return(r?"/":"")+(t=s(y(t.split("/"),(function(t){return!!t})),!r).join("/"))||"."}function y(t,r){if(t.filter)return t.filter(r);for(var n=[],e=0;e<t.length;e++)r(t[e],e,t)&&n.push(t[e]);return n}function v(t){return"string"==typeof t}var b="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function h(){return b&&"symbol"==typeof Symbol.toStringTag}var w=Object.prototype.toString;var d=Object.prototype.hasOwnProperty;function m(t,r){return null!=t&&d.call(t,r)}var g="function"==typeof Symbol?Symbol.toStringTag:"";var j=h()?function(t){var r,n,e;if(null==t)return w.call(t);n=t[g],r=m(t,g);try{t[g]=void 0}catch(r){return w.call(t)}return e=w.call(t),r?t[g]=n:delete t[g],e}:function(t){return w.call(t)},_=String.prototype.valueOf;var T=h();function O(t){return"object"==typeof t&&(t instanceof String||(T?function(t){try{return _.call(t),!0}catch(t){return!1}}(t):"[object String]"===j(t)))}function E(t){return v(t)||O(t)}a(E,"isPrimitive",v),a(E,"isObject",O);var S=/./;function A(t){return"boolean"==typeof t}var P=Boolean.prototype.toString;var C=h();function B(t){return"object"==typeof t&&(t instanceof Boolean||(C?function(t){try{return P.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===j(t)))}function k(t){return A(t)||B(t)}function L(){return new Function("return this;")()}a(k,"isPrimitive",A),a(k,"isObject",B);var x="object"==typeof self?self:null,N="object"==typeof window?window:null,F="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},M="object"==typeof F?F:null;var R=function(t){if(arguments.length){if(!A(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return L()}if(x)return x;if(N)return N;if(M)return M;throw new Error("unexpected error. Unable to resolve global object.")}(),V=R.document&&R.document.childNodes,D=Int8Array;function G(){return/^\s*function\s*([^(]*)/i}var I=/^\s*function\s*([^(]*)/i;a(G,"REGEXP",I);var U=Array.isArray?Array.isArray:function(t){return"[object Array]"===j(t)};function z(t){return null!==t&&"object"==typeof t}function X(t){var r,n,e,o;if(("Object"===(n=j(t).slice(8,-1))||"Error"===n)&&t.constructor){if("string"==typeof(e=t.constructor).name)return e.name;if(r=I.exec(e.toString()))return r[1]}return z(o=t)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":n}a(z,"isObjectLikeArray",function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var n,e;if(!U(r))return!1;if(0===(n=r.length))return!1;for(e=0;e<n;e++)if(!1===t(r[e]))return!1;return!0}}(z));var q="function"==typeof S||"object"==typeof D||"function"==typeof V?function(t){return X(t).toLowerCase()}:function(t){var r;return null===t?"null":"object"===(r=typeof t)?X(t).toLowerCase():r};function H(t){return"function"===q(t)}function J(){throw new Error("setTimeout has not been defined")}function K(){throw new Error("clearTimeout has not been defined")}var Q=J,W=K;function Y(t){if(Q===setTimeout)return setTimeout(t,0);if((Q===J||!Q)&&setTimeout)return Q=setTimeout,setTimeout(t,0);try{return Q(t,0)}catch(r){try{return Q.call(null,t,0)}catch(r){return Q.call(this,t,0)}}}"function"==typeof F.setTimeout&&(Q=setTimeout),"function"==typeof F.clearTimeout&&(W=clearTimeout);var Z,$=[],tt=!1,rt=-1;function nt(){tt&&Z&&(tt=!1,Z.length?$=Z.concat($):rt=-1,$.length&&et())}function et(){if(!tt){var t=Y(nt);tt=!0;for(var r=$.length;r;){for(Z=$,$=[];++rt<r;)Z&&Z[rt].run();rt=-1,r=$.length}Z=null,tt=!1,function(t){if(W===clearTimeout)return clearTimeout(t);if((W===K||!W)&&clearTimeout)return W=clearTimeout,clearTimeout(t);try{W(t)}catch(r){try{return W.call(null,t)}catch(r){return W.call(this,t)}}}(t)}}function ot(t,r){this.fun=t,this.array=r}ot.prototype.run=function(){this.fun.apply(null,this.array)};function it(){}var ut=it,ct=it,ft=it,lt=it,at=it,st=it,pt=it;var yt=F.performance||{},vt=yt.now||yt.mozNow||yt.msNow||yt.oNow||yt.webkitNow||function(){return(new Date).getTime()};var bt=new Date;var ht={nextTick:function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];$.push(new ot(t,r)),1!==$.length||tt||Y(et)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ut,addListener:ct,once:ft,off:lt,removeListener:at,removeAllListeners:st,emit:pt,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var r=.001*vt.call(yt),n=Math.floor(r),e=Math.floor(r%1*1e9);return t&&(n-=t[0],(e-=t[1])<0&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-bt)/1e3}};function wt(){return ht.cwd()}var dt,mt,gt={};function jt(t,r){dt(t,(function(t){if(2===r.length)return t?r(t,!1):r(null,!0);if(t)return r(!1);return r(!0)}))}function _t(t){try{mt(t)}catch(t){return!1}return!0}function Tt(){var t,r=arguments,n=r[0],e="https://stdlib.io/e/"+n+"?";for(t=1;t<r.length;t++)e+="&arg[]="+encodeURIComponent(r[t]);return e}dt="function"==typeof gt.access?gt.access:gt.stat,mt="function"==typeof gt.accessSync?gt.accessSync:gt.statSync,a(jt,"sync",_t);var Ot,Et=Object.getPrototypeOf;Ot=H(Object.getPrototypeOf)?Et:function(t){var r=function(t){return t.__proto__}(t);return r||null===r?r:"[object Function]"===j(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null};var St=Ot;var At=Object.prototype;function Pt(t){var r;return!!function(t){return"object"==typeof t&&null!==t&&!U(t)}(t)&&(r=function(t){return null==t?null:(t=Object(t),St(t))}(t),!r||!m(t,"constructor")&&m(r,"constructor")&&H(r.constructor)&&"[object Function]"===j(r.constructor)&&m(r,"isPrototypeOf")&&H(r.isPrototypeOf)&&(r===At||function(t){var r;for(r in t)if(!m(t,r))return!1;return!0}(t)))}function Ct(t,r){return Pt(r)?m(r,"dir")&&(t.dir=r.dir,!v(t.dir))?new TypeError(Tt("0C72i","dir",t.dir)):null:new TypeError(Tt("0C72h",r))}function Bt(t,r,n){var e,o,i,u,c,f;if(!v(t))throw new TypeError(Tt("0C73R",t));if(i={},arguments.length>2){if(u=n,f=Ct(i,r))throw f}else u=r;if(!H(u))throw new TypeError(Tt("0C72n",u));function l(r,n){return n?u(null,e):(o=c,c=p(c,".."),o===c?u(null,null):void jt(e=p(c,t),l))}c=i.dir?p(wt(),i.dir):wt(),jt(e=p(c,t),l)}function kt(t,r){var n,e,o,i,u;if(!v(t))throw new TypeError(Tt("0C73R",t));if(o={},arguments.length>1&&(u=Ct(o,r)))throw u;for(i=o.dir?p(wt(),o.dir):wt();e!==i;){if(_t(n=p(i,t)))return n;e=i,i=p(i,"..")}return null}a(Bt,"sync",kt);export{Bt as default,kt as sync};
//# sourceMappingURL=mod.js.map
