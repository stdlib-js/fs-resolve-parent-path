// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/process-cwd@esm/index.mjs";import n,{sync as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/fs-exists@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";function f(r,t){for(var e=0,s=r.length-1;s>=0;s--){var n=r[s];"."===n?r.splice(s,1):".."===n?(r.splice(s,1),e++):e&&(r.splice(s,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function m(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var s=e>=0?arguments[e]:"/";if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,t="/"===s.charAt(0))}return(t?"/":"")+(r=f(p(r.split("/"),(function(r){return!!r})),!t).join("/"))||"."}function p(r,t){if(r.filter)return r.filter(t);for(var e=[],s=0;s<r.length;s++)t(r[s],s,r)&&e.push(r[s]);return e}function h(r,e){return d(e)?l(e,"dir")&&(r.dir=e.dir,!t(r.dir))?new TypeError(o("0C72i","dir",r.dir)):null:new TypeError(o("0C72h",e))}function u(r,i,d){var l,f,p,u,c,j;if(!t(r))throw new TypeError(o("0C73R",r));if(p={},arguments.length>2){if(u=d,j=h(p,i))throw j}else u=i;if(!e(u))throw new TypeError(o("0C72n",u));function a(t,e){return e?u(null,l):(f=c,c=m(c,".."),f===c?u(null,null):(l=m(c,r),void n(l,a)))}c=p.dir?m(s(),p.dir):s(),l=m(c,r),n(l,a)}function c(r,e){var n,d,l,f,p;if(!t(r))throw new TypeError(o("0C73R",r));if(l={},arguments.length>1&&(p=h(l,e)))throw p;for(f=l.dir?m(s(),l.dir):s();d!==f;){if(n=m(f,r),i(n))return n;d=f,f=m(f,"..")}return null}r(u,"sync",c);export{u as default,c as sync};
//# sourceMappingURL=index.mjs.map
